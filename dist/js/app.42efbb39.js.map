{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue","webpack:///./src/AccountInfo.vue","webpack:///./src/config.js","webpack:///./src/store.js","webpack:///./src/AccountInfo.vue?f4f1","webpack:///./src/MsgSend.vue","webpack:///./src/MsgSend.vue?972a","webpack:///./src/MsgDelegate.vue","webpack:///./src/MsgDelegate.vue?05ca","webpack:///./src/MsgBeginRedelegate.vue","webpack:///./src/MsgBeginRedelegate.vue?18c4","webpack:///./src/MsgUndelegate.vue","webpack:///./src/MsgUndelegate.vue?9ca7","webpack:///./src/MsgWithdrawDelegationReward.vue","webpack:///./src/MsgWithdrawDelegationReward.vue?3775","webpack:///./src/Msgs.vue","webpack:///./src/Msgs.vue?5555","webpack:///./src/Tx.vue","webpack:///./src/Tx.vue?79f4","webpack:///./src/App.vue?dfb6","webpack:///./src/main.js","webpack:///./src/cosmos.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","select","selected","ledgerIndex","address","fetchCosmosInfo","accountNumber","sequence","balance","readAccount","LCD_ENDPOINT","CHAIN_ID","INIT_COSMOS_LEDGER_APP","COMMIT_ADDRESS_INFO","FETCH_COSMOS_INFO","COMMIT_ACCOUNT_INFO","COMMIT_ADD_MSG","COMMIT_REMOVE_MSG","COMMIT_CLEAR_MSGS","store","createStore","state","cosmosLedgerApp","addressInfo","ledgerPath","Cosmos","pubKey","accountInfo","coins","msgs","mutations","app","msg","index","actions","commit","dispatch","path","prettyBalance","coin","find","denom","amount","Number","parseInt","toFixed","setup","console","log","render","to","addMsg","from","amountInNanolike","validator","delegator","fromValidator","toValidator","removeMsg","clearMsgs","memo","gas","recommendedGas","gasPrice","fee","prepareSignObject","signObject","sign","signature","broadcastTx","txHash","chainID","endpoint","resData","txhash","raw_log","components","AccountInfo","MsgSend","MsgDelegate","MsgBeginRedelegate","MsgUndelegate","MsgWithdrawDelegationReward","Msgs","Tx","createApp","App","use","mount","readAddressInfo","getLedgerPath","prefix","publicKey","compressed_pk","message","CryptoJS","enc","Hex","parse","toString","hash","ripemd160","sha256","addressRawHex","Buffer","words","bech32","toWords","encode","type","Base64","fetchAccountInfo","axios","baseURL","res","account_number","computeTotalGas","GAS","reduce","sum","gasAmount","feeAmount","chain_id","signObj","signMsg","jsonStringify","sigDerToRaw","createMsgSend","from_address","to_address","createMsgDelegate","delegator_address","validator_address","createMsgBeginRedelegate","validator_src_address","validator_dst_address","createMsgUndelegate","createMsgWithdrawDelegationReward","tx","signatures","pub_key","post","initCosmosLedgerApp","TransportWebUSB","transport","CosmosApp","sig","rawSig","fromUint8Array","Uint8Array","Error","padStart","rLength","set","subarray","sLength"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,sVCnJF,sB,qVAHL,eAEM,YADJ,eAAe,KAEjB,eAOM,Y,EALJ,eAAqD,UAA5C,QAAK,+BAAE,EAAAyC,OAAM,cAAa,aACnC,eAAqE,UAA5D,QAAK,+BAAE,EAAAA,OAAM,kBAAiB,yBACvC,eAAoF,UAA3E,QAAK,+BAAE,EAAAA,OAAM,yBAAwB,iCAC9C,eAA2E,UAAlE,QAAK,+BAAE,EAAAA,OAAM,oBAAmB,6BACzC,eAA0F,UAAjF,QAAK,+BAAE,EAAAA,OAAM,kCAAiC,gCAEzD,eAMM,YALmB,YAAR,EAAAC,U,iBAAf,eAAyC,Y,sBACd,gBAAR,EAAAA,U,iBAAnB,eAAiD,Y,sBACf,uBAAR,EAAAA,U,iBAA1B,eAA+D,Y,sBAClC,kBAAR,EAAAA,U,iBAArB,eAAqD,Y,sBACV,gCAAR,EAAAA,U,iBAAnC,eAAiF,Y,wBAEnF,eAEM,YADJ,eAAQ,KAEV,eAEM,YADJ,eAAM,M,yBCrBD,sB,gDADP,eAiBM,YAhBJ,eAEM,Y,iBADa,eAA6B,S,qDAAb,EAAAC,YAAW,K,mBAAX,EAAAA,iBAEnC,eAEM,Y,eAFD,aACM,eAAE,EAAAC,SAAO,GAAE,eAAsD,UAA7C,QAAK,8BAAE,EAAAC,iBAAA,EAAAA,gBAAA,sBAAiB,kBAEvD,eAEM,WAFD,oBACa,eAAE,EAAAC,eAAa,GAEjC,eAEM,WAFD,cACO,eAAE,EAAAC,UAAQ,GAEtB,eAEM,WAFD,aACM,eAAE,EAAAC,SAAO,GAEpB,eAAqD,UAA5C,QAAK,8BAAE,EAAAC,aAAA,EAAAA,YAAA,sBAAa,qB,gGCjBpBC,G,oBAAe,+BACfC,EAAW,2B,YCGXC,EAAyB,yBACzBC,EAAsB,sBACtBC,EAAqB,oBACrBC,EAAsB,sBACtBC,EAAiB,iBACjBC,EAAoB,oBACpBC,EAAoB,oBAEpBC,EAAQC,eAAY,CAC/BC,MAD+B,WAE7B,MAAO,CACLC,gBAAiB,KACjBC,YAAa,CACXC,WAAYC,OAAqB,GACjCrB,QAAS,GACTsB,OAAQ,IAEVC,YAAa,CACXrB,cAAe,IACfC,SAAU,IACVqB,MAAO,IAETC,KAAM,KAGVC,WAAS,sBACNlB,GADM,SACkBS,EAAOU,GAC9BV,EAAMC,gBAAkBS,KAFnB,iBAINlB,GAJM,SAIeQ,EAAOE,GAC3BF,EAAME,YAAcA,KALf,iBAONR,GAPM,SAOeM,EAAOM,GAC3BN,EAAMM,YAAcA,KARf,iBAUNX,GAVM,SAUUK,EAAOW,GACtBX,EAAMQ,KAAK3E,KAAK8E,MAXX,iBAaNf,GAbM,SAaaI,EAAOY,GACzBZ,EAAMQ,KAAK/D,OAAOmE,EAAO,MAdpB,iBAgBNf,GAhBM,SAgBaG,GAClBA,EAAMQ,KAAO,MAjBR,GAoBTK,SAAO,sBACEtB,GADF,YACsC,4JAAVuB,EAAU,EAAVA,OAAU,SACvBV,SADuB,OACnCM,EADmC,OAEzCI,EAAOvB,EAAwBmB,GAFU,gDADtC,iBAKEjB,GALF,WAKkDX,GAAa,gKAAxCkB,EAAwC,EAAxCA,MAAOc,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,SACpCf,EAAMC,gBADuD,gCAE1Dc,EAASxB,GAFiD,cAI5DY,EAAaC,OAAqBtB,GAJ0B,SAKxCsB,OAAuBJ,EAAMC,gBAAiB,CAAEe,KAAMb,IALd,cAK5DD,EAL4D,OAMlEY,EAAOtB,EAAD,eAAC,kBAA0BU,GAA3B,IAAwCC,gBANoB,UAOxCC,OAAwBf,EAAcW,EAAME,YAAYnB,SAPhB,QAO5DuB,EAP4D,OAQlEQ,EAAOpB,EAAqBY,GARsC,iDAL/D,KFvBT,SAASW,EAAcV,GACrB,IAAKA,EACH,MAAO,MAET,IAAMW,EAAOX,EAAMY,MAAK,SAACD,GAAD,MAAyB,aAAfA,EAAKE,SACvC,IAAKF,EACH,MAAO,MAET,IAAMG,EAASC,OAAOC,SAASL,EAAKG,OAAQ,IAAM,IAClD,gBAAUA,EAAOG,QAAQ,GAAzB,SAGa,OACbC,MADa,WAEX,IAAM3B,EAAQ,iBACVhB,EAAc,eAAI,GAEtB,OADA4C,QAAQC,IAAI7C,GACL,CACLA,cACAC,QAAS,gBAAS,kBAAMe,EAAME,MAAME,YAAYnB,WAChDE,cAAe,gBAAS,kBAAMa,EAAME,MAAMM,YAAYrB,iBACtDE,QAAS,gBAAS,kBAAM8B,EAAcnB,EAAME,MAAMM,YAAYC,UAC9DrB,SAAU,gBAAS,kBAAMY,EAAME,MAAMM,YAAYpB,YACjDF,gBAAiB,kBAAMc,EAAMiB,SAAStB,EAAmB6B,OAAOC,SAASzC,EAAYlB,MAAO,SG9ClG,EAAOgE,OAAS,EAED,Q,iBCHN,sB,iBAGA,a,iBACyC,U,gDALhD,eAQM,YAPJ,eAEM,Y,iBADa,eAAyB,S,qDAAJ,EAAAC,GAAE,K,mBAAF,EAAAA,Q,SAAd,QAE1B,eAEM,Y,iBADI,eAAoC,S,qDAAR,EAAAR,OAAM,K,mBAAN,EAAAA,Y,SAArB,E,QAAA,M,IAEjB,eAAwC,UAA/B,QAAK,8BAAE,EAAAS,QAAA,EAAAA,OAAA,sBAAQ,aAUb,OACbL,MADa,WAEX,IAAM3B,EAAQ,iBACR+B,EAAK,eAAI,IACTR,EAAS,eAAI,GACbS,EAAS,WACb,IAAMC,EAAOjC,EAAME,MAAME,YAAYnB,QAC/BiD,EAAkC,IAAfX,EAAOzD,MAC1B+C,EAAM,eAAc,CACxBoB,OACAF,GAAIA,EAAGjE,MACPyD,OAAQW,IAEVlC,EAAMgB,OAAOnB,EAAgBgB,IAE/B,MAAO,CACLkB,KACAR,SACAS,YCjCN,EAAOF,OAAS,EAED,Q,iBCHN,wB,iBAGA,a,iBACyC,U,gDALhD,eAQM,YAPJ,eAEM,Y,iBADe,eAAgC,S,qDAAX,EAAAK,UAAS,K,mBAAT,EAAAA,e,SAAd,QAE5B,eAEM,Y,iBADI,eAAoC,S,qDAAR,EAAAZ,OAAM,K,mBAAN,EAAAA,Y,SAArB,E,QAAA,M,IAEjB,eAAwC,UAA/B,QAAK,8BAAE,EAAAS,QAAA,EAAAA,OAAA,sBAAQ,aAUb,OACbL,MADa,WAEX,IAAM3B,EAAQ,iBACRmC,EAAY,eAAI,IAChBZ,EAAS,eAAI,GACbS,EAAS,WACb,IAAMI,EAAYpC,EAAME,MAAME,YAAYnB,QACpCiD,EAAkC,IAAfX,EAAOzD,MAC1B+C,EAAM,eAAkB,CAC5BuB,YACAD,UAAWA,EAAUrE,MACrByD,OAAQW,IAEVlC,EAAMgB,OAAOnB,EAAgBgB,IAE/B,MAAO,CACLsB,YACAZ,SACAS,YCjCN,EAAOF,OAAS,EAED,Q,iBCHN,6B,iBAGA,2B,iBAGA,a,iBACyC,U,gDARhD,eAWM,YAVJ,eAEM,Y,iBADoB,eAAoC,S,qDAAf,EAAAO,cAAa,K,mBAAb,EAAAA,mB,SAAd,QAEjC,eAEM,Y,iBADkB,eAAkC,S,qDAAb,EAAAC,YAAW,K,mBAAX,EAAAA,iB,SAAd,QAE/B,eAEM,Y,iBADI,eAAoC,S,qDAAR,EAAAf,OAAM,K,mBAAN,EAAAA,Y,SAArB,E,QAAA,M,IAEjB,eAAwC,UAA/B,QAAK,8BAAE,EAAAS,QAAA,EAAAA,OAAA,sBAAQ,aAUb,OACbL,MADa,WAEX,IAAM3B,EAAQ,iBACRqC,EAAgB,eAAI,IACpBC,EAAc,eAAI,IAClBf,EAAS,eAAI,GACbS,EAAS,WACb,IAAMI,EAAYpC,EAAME,MAAME,YAAYnB,QACpCiD,EAAkC,IAAfX,EAAOzD,MAC1B+C,EAAM,eAAyB,CACnCuB,YACAC,cAAeA,EAAcvE,MAC7BwE,YAAaA,EAAYxE,MACzByD,OAAQW,IAEVlC,EAAMgB,OAAOnB,EAAgBgB,IAE/B,MAAO,CACLwB,gBACAC,cACAf,SACAS,YCvCN,EAAOF,OAAS,EAED,Q,iBCHN,wB,iBAGA,a,iBACyC,U,gDALhD,eAQM,YAPJ,eAEM,Y,iBADe,eAAgC,S,qDAAX,EAAAK,UAAS,K,mBAAT,EAAAA,e,SAAd,QAE5B,eAEM,Y,iBADI,eAAoC,S,qDAAR,EAAAZ,OAAM,K,mBAAN,EAAAA,Y,SAArB,E,QAAA,M,IAEjB,eAAwC,UAA/B,QAAK,8BAAE,EAAAS,QAAA,EAAAA,OAAA,sBAAQ,aAUb,OACbL,MADa,WAEX,IAAM3B,EAAQ,iBACRmC,EAAY,eAAI,IAChBZ,EAAS,eAAI,GACbS,EAAS,WACb,IAAMI,EAAYpC,EAAME,MAAME,YAAYnB,QACpCiD,EAAkC,IAAfX,EAAOzD,MAC1B+C,EAAM,eAAoB,CAC9BuB,YACAD,UAAWA,EAAUrE,MACrByD,OAAQW,IAEVlC,EAAMgB,OAAOnB,EAAgBgB,IAE/B,MAAO,CACLsB,YACAZ,SACAS,YCjCN,EAAOF,OAAS,EAED,Q,iBCHN,wB,iDADP,eAKM,YAJJ,eAEM,Y,iBADe,eAAgC,S,qDAAX,EAAAK,UAAS,K,mBAAT,EAAAA,e,SAAd,QAE5B,eAAwC,UAA/B,QAAK,8BAAE,EAAAH,QAAA,EAAAA,OAAA,sBAAQ,aAUb,QACbL,MADa,WAEX,IAAM3B,EAAQ,iBACRmC,EAAY,eAAI,IAChBH,EAAS,WACb,IAAMI,EAAYpC,EAAME,MAAME,YAAYnB,QACpC4B,EAAM,eAAkC,CAC5CuB,YACAD,UAAWA,EAAUrE,QAEvBkC,EAAMgB,OAAOnB,EAAgBgB,IAE/B,MAAO,CACLsB,YACAH,YC1BN,GAAOF,OAAS,GAED,U,iDCJb,eAMM,a,mBALJ,eAGM,2BAHkB,EAAApB,MAAI,SAAfG,EAAKtF,G,wBAAlB,eAGM,OAH+B6C,IAAKyC,GAAG,CAC3C,eAAwC,UAA/B,QAAK,mBAAE,EAAA0B,UAAUhH,KAAI,IAAC,e,eAAS,QACpC,eAAEA,GAAG,KAAE,eAAEsF,GAAG,Q,MAElB,eAAmD,UAA1C,QAAK,8BAAE,EAAA2B,WAAA,EAAAA,UAAA,sBAAW,oBAShB,QACbb,MADa,WAEXC,QAAQC,IAAI,YAAanB,GACzB,IAAMV,EAAQ,iBACRU,EAAO,gBAAS,kBAAMV,EAAME,MAAMQ,QAClC6B,EAAY,SAAChH,GAAD,OAAOyE,EAAMgB,OAAOlB,EAAmBvE,IACnDiH,EAAY,kBAAMxC,EAAMgB,OAAOjB,IACrC,MAAO,CACLW,OACA6B,YACAC,eCtBN,GAAOV,OAAS,GAED,U,kBCHN,sB,kBAGA,U,kBAGA,gB,iDAPP,eA4BM,YA3BJ,eAEM,Y,kBADa,eAAsB,S,qDAAN,EAAAW,KAAI,K,mBAAJ,EAAAA,UAEnC,eAEM,Y,kBADC,eAAiC,S,qDAAL,EAAAC,IAAG,K,mBAAH,EAAAA,S,SAArB,E,QAAA,M,eAA0B,gBAAa,eAAE,EAAAC,gBAAgB,KACvE,KACA,eAEM,Y,kBADO,eAAsC,S,qDAAV,EAAAC,SAAQ,K,mBAAR,EAAAA,c,SAArB,E,QAAA,QAEpB,eAEM,WAFD,SACE,eAAE,EAAAC,KAAG,GAEZ,eAA+D,UAAtD,QAAK,8BAAE,EAAAC,mBAAA,EAAAA,kBAAA,sBAAmB,uBACnC,eAEM,WAFD,iBACU,eAAE,EAAAC,YAAU,GAE3B,eAAmC,UAA1B,QAAK,8BAAE,EAAAC,MAAA,EAAAA,KAAA,sBAAM,QACtB,eAEM,WAFD,eACQ,eAAE,EAAAC,WAAS,GAExB,eAAsD,UAA7C,QAAK,8BAAE,EAAAC,aAAA,EAAAA,YAAA,sBAAa,oBAC7B,eAEM,WAFD,YACK,eAAE,EAAAC,QAAM,GAElB,eAEM,WAFD,iBACU,eAAE,EAAAtB,KAAG,KAWT,QACbF,MADa,WAEX,IAAM3B,EAAQ,iBACRyC,EAAO,eAAI,IACXC,EAAM,eAAI,KACVC,EAAiB,gBAAS,kBAAM,OAAuB3C,EAAME,MAAMQ,SACnEkC,EAAW,eAAI,KACfC,EAAM,gBAAS,2BAASH,EAAI5E,MAAQ8E,EAAS9E,MAAQ,IAAtC,YACfiF,EAAa,eAAI,IACjBE,EAAY,eAAI,IAChBE,EAAS,eAAI,IACbtB,EAAM,eAAI,MACViB,EAAoB,WAAM,IACtBpC,EAASV,EAAME,MAAfQ,KADsB,EAEMV,EAAME,MAAMM,YAAxCrB,EAFsB,EAEtBA,cAAeC,EAFO,EAEPA,SACvB2D,EAAWjF,MAAQ,OAAyB,CAC1C4C,OACA0C,QAAS5D,EACTL,gBACAC,WACAsD,IAAKA,EAAI5E,MACT8E,SAAUA,EAAS9E,MACnB2E,KAAMA,EAAK3E,SAGTkF,EAAG,yDAAI,6GACH7C,EAAoBH,EAAME,MAA1BC,gBACAE,EAAgBL,EAAME,MAAME,YAA5BC,WAFG,SAGa,OAAYF,EAAiB4C,EAAWjF,MAAOuC,GAH5D,OAGX4C,EAAUnF,MAHC,kDAAJ,qDAKHoF,EAAU,yDAAI,oHACI,OAAmB,CACvCH,WAAYA,EAAWjF,MACvBmF,UAAWA,EAAUnF,MACrByC,OAAQP,EAAME,MAAME,YAAYG,OAChC8C,SAAU9D,IALM,OACZ+D,EADY,OAOlBH,EAAOrF,MAAQwF,EAAQC,OACvB1B,EAAI/D,MAAQwF,EAAQE,QARF,2CAAJ,qDAUhB,MAAO,CACLf,OACAC,MACAE,WACAD,iBACAE,MACAE,aACAE,YACAE,SACAtB,MACAiB,oBACAE,OACAE,iBCvFN,GAAOpB,OAAS,GAED,UlBiCA,IACb2B,WAAY,CACVC,cACAC,UACAC,cACAC,qBACAC,gBACAC,+BACAC,QACAC,OAEFtC,MAXa,WAYX,IAAM5C,EAAW,eAAI,WACfD,EAAS,SAACjC,GAAQkC,EAASjB,MAAQjB,GACzC,MAAO,CACLkC,WACAD,YmBnDN,GAAOgD,OAASA,EAED,UCDTlB,GAAMsD,eAAUC,IACtBvD,GAAIwD,IAAIpE,GACRY,GAAIyD,MAAM,S,6hCCIH,SAAeC,EAAtB,oC,8DAAO,WAA+BnE,EAA/B,yHACLe,YADK,MACEqD,EAAc,GADhB,MAELC,cAFK,MAEI,SAFJ,WAI2BrE,EAAgBsE,UAAUvD,GAJrD,uBAIGwD,EAJH,EAIGA,cACFC,EAAUC,IAASC,IAAIC,IAAIC,MAAML,EAAcM,SAAS,QACxDC,EAAOC,IAAUC,IAAOR,IAAUK,WAClCI,EAAgBC,EAAOpD,KAAKgD,EAAM,OAClCK,EAAQC,YAAOC,QAAQJ,GACvBnG,EAAUsG,YAAOE,OAAOjB,EAAQc,GATjC,kBAUE,CACL/E,OAAQ,CACNmF,KAAM,6BACN5H,MAAO6H,OAAOF,OAAOf,IAEvBzF,YAfG,4C,wBAmBA,SAAe2G,EAAtB,oC,8DAAO,WAAgCvC,EAAUpE,GAA1C,+GACa4G,IAAMnI,IAAN,yBAA4BuB,GAAW,CACvD6G,QAASzC,IAFN,cACC0C,EADD,SAIsDA,EAAI9K,KAAKqB,OAAOwB,MAAnE2C,EAJH,EAIGA,MAAuBtB,EAJ1B,EAIU6G,eAA+B5G,EAJzC,EAIyCA,SAJzC,kBAKE,CAAEH,UAASwB,QAAOtB,gBAAeC,aALnC,2C,wBAQA,SAAS6G,EAAgBvF,GAC9B,IAAMwF,EAAM,CACV,qBAAsB,KACtB,yBAA0B,KAC1B,gCAAiC,KACjC,2BAA4B,MAC5B,yCAA0C,KAE5C,OAAOxF,EAAKyF,QAAO,SAACC,EAAKvF,GAAN,OAAcuF,EAAMF,EAAIrF,EAAI6E,QAAO,GAGjD,SAAS5C,EAAT,GASJ,IARDpC,EAQC,EARDA,KACA0C,EAOC,EAPDA,QACAjE,EAMC,EANDA,cACAC,EAKC,EALDA,SAKC,IAJDsD,WAIC,MAJK,IAIL,MAHDE,gBAGC,MAHU,IAGV,MAFDH,YAEC,MAFM,GAEN,MADDnB,aACC,MADO,WACP,EACK+E,EAAY3D,EAAIsC,WAChBsB,GAAa5D,EAAME,GAAUoC,WACnC,MAAO,CACLnC,IAAK,CACHtB,OAAQ,CAAC,CAAED,QAAOC,OAAQ+E,IAC1B5D,IAAK2D,GAEP3F,OACA6F,SAAUnD,EACV4C,eAAgB7G,EAChBC,SAAUA,EACVqD,KAAMA,GAIH,SAAeO,EAAtB,oC,8DAAO,WAAoB7C,EAAiBqG,GAArC,8GAA8CtF,EAA9C,+BAAqDqD,EAAc,GAClEkC,EAAUC,IAAcF,GAC9B5E,QAAQC,IAAI4E,GAFP,SAGatG,EAAgB6C,KAAK9B,EAAMuF,GAHxC,cAGCV,EAHD,yBAIEY,EAAYZ,EAAI9C,YAJlB,2C,wBAOA,SAAS2D,EAAT,GAEJ,IADD3E,EACC,EADDA,KAAMF,EACL,EADKA,GAAIR,EACT,EADSA,OACT,IADiBD,aACjB,MADyB,WACzB,EACD,MAAO,CACLoE,KAAM,qBACN5H,MAAO,CACL+I,aAAc5E,EACd6E,WAAY/E,EACZR,OAAQ,CACN,CACED,QACAC,OAAQA,EAAOG,cAOlB,SAASqF,EAAT,GAEJ,IADD3E,EACC,EADDA,UAAWD,EACV,EADUA,UAAWZ,EACrB,EADqBA,OACrB,IAD6BD,aAC7B,MADqC,WACrC,EACD,MAAO,CACLoE,KAAM,yBACN5H,MAAO,CACLkJ,kBAAmB5E,EACnB6E,kBAAmB9E,EACnBZ,OAAQ,CACND,QACAC,OAAQA,EAAOG,aAMhB,SAASwF,EAAT,GAEJ,IADD9E,EACC,EADDA,UAAWC,EACV,EADUA,cAAeC,EACzB,EADyBA,YAAaf,EACtC,EADsCA,OACtC,IAD8CD,aAC9C,MADsD,WACtD,EACD,MAAO,CACLoE,KAAM,gCACN5H,MAAO,CACLyD,OAAQ,CACND,QACAC,OAAQA,EAAOG,WAEjBsF,kBAAmB5E,EACnB+E,sBAAuB9E,EACvB+E,sBAAuB9E,IAKtB,SAAS+E,EAAT,GAEJ,IADDjF,EACC,EADDA,UAAWD,EACV,EADUA,UAAWZ,EACrB,EADqBA,OACrB,IAD6BD,aAC7B,MADqC,WACrC,EACD,MAAO,CACLoE,KAAM,2BACN5H,MAAO,CACLyD,OAAQ,CACND,QACAC,OAAQA,EAAOG,WAEjBsF,kBAAmB5E,EACnB6E,kBAAmB9E,IAKlB,SAASmF,EAAT,GAAqE,IAAxBlF,EAAwB,EAAxBA,UAAWD,EAAa,EAAbA,UAC7D,MAAO,CACLuD,KAAM,yCACN5H,MAAO,CACLkJ,kBAAmB5E,EACnB6E,kBAAmB9E,IAKlB,SAAee,EAAtB,kC,8DAAO,sHAA6BH,EAA7B,EAA6BA,WAAYE,EAAzC,EAAyCA,UAAW1C,EAApD,EAAoDA,OAAQ8C,EAA5D,EAA4DA,SAC3DkE,EAAK,CACTvJ,KAAM,OACNuJ,GAAI,iCACCxE,GADH,IAEAlC,IAAKkC,EAAWrC,KAChB8G,WAAY,CAAC,CAAEvE,YAAWwE,QAASlH,cAGhCgH,EAAG7G,KACVkB,QAAQC,IAAI0F,GAVP,SAWa1B,IAAM6B,KAAK,OAAQH,EAAI,CACvCzB,QAASzC,IAZN,cAWC0C,EAXD,OAcLnE,QAAQC,IAAIkE,GAdP,kBAeEA,EAAI9K,MAfN,2C,wBAkBA,SAAe0M,IAAtB,+B,8DAAO,oHACmBC,OAAgBzJ,SADnC,cACC0J,EADD,yBAEE,IAAIC,IAAUD,IAFhB,2C,wBAKA,SAAStD,EAAczD,GAC5B,MAAO,CAAC,GAAI,IAAK,EAAG,EAAGA,GAGzB,SAAS6F,EAAYoB,GACnB,GAAmB,KAAfA,EAAItM,OAEN,OADAmG,QAAQC,IAAImG,GACLrC,OAAOsC,eAAeF,GAE/B,IAAMC,EAAS,IAAIE,WAAW,IAC9B,GAAe,KAAXH,EAAI,GACN,MAAM,IAAII,MAAJ,qDAAwDJ,EAAI,GAAG/C,SAAS,IAAIoD,SAAS,EAAG,OAEhG,IAAI7M,EAAI,EACR,GAAe,IAAXwM,EAAIxM,GACN,MAAM,IAAI4M,MAAJ,6DAAgEJ,EAAIxM,GAAGyJ,SAAS,IAAIoD,SAAS,EAAG,OAExG,IAAMC,EAAUN,EAAIxM,EAAI,GAKxB,GAJAA,GAAK,EACLA,GAAK8M,EAAU,GACfL,EAAOM,IAAIP,EAAIQ,SAAShN,EAAGA,EAAI,IAAK,GACpCA,GAAK,GACU,IAAXwM,EAAIxM,GACN,MAAM,IAAI4M,MAAJ,6DAAgEJ,EAAIxM,GAAGyJ,SAAS,IAAIoD,SAAS,EAAG,OAExG,IAAMI,EAAUT,EAAIxM,EAAI,GAIxB,OAHAA,GAAK,EACLA,GAAKiN,EAAU,GACfR,EAAOM,IAAIP,EAAIQ,SAAShN,EAAGA,EAAI,IAAK,IAC7BoK,OAAOsC,eAAeD,M","file":"js/app.42efbb39.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n  <div>\n    <AccountInfo />\n  </div>\n  <div>\n    Select function: \n    <button @click=\"select('MsgSend')\">Send LIKE</button>\n    <button @click=\"select('MsgDelegate')\">Delegate to validator</button>\n    <button @click=\"select('MsgBeginRedelegate')\">Redelegate between validators</button>\n    <button @click=\"select('MsgUndelegate')\">Undelegate from validator</button>\n    <button @click=\"select('MsgWithdrawDelegationReward')\">Withdraw delegation reward</button>\n  </div>\n  <div>\n    <MsgSend v-if=\"selected === 'MsgSend'\" />\n    <MsgDelegate v-if=\"selected === 'MsgDelegate'\" />\n    <MsgBeginRedelegate v-if=\"selected === 'MsgBeginRedelegate'\" />\n    <MsgUndelegate v-if=\"selected === 'MsgUndelegate'\" />\n    <MsgWithdrawDelegationReward v-if=\"selected === 'MsgWithdrawDelegationReward'\" />\n  </div>\n  <div>\n    <Msgs />\n  </div>\n  <div>\n    <Tx />\n  </div>\n</template>\n\n<script>\nimport AccountInfo from './AccountInfo.vue';\nimport MsgSend from './MsgSend.vue';\nimport MsgDelegate from './MsgDelegate.vue';\nimport MsgBeginRedelegate from './MsgBeginRedelegate.vue';\nimport MsgUndelegate from './MsgUndelegate.vue';\nimport MsgWithdrawDelegationReward from './MsgWithdrawDelegationReward.vue';\nimport Msgs from './Msgs.vue';\nimport Tx from './Tx.vue';\nimport { ref } from 'vue';\n\nexport default {\n  components: {\n    AccountInfo,\n    MsgSend,\n    MsgDelegate,\n    MsgBeginRedelegate,\n    MsgUndelegate,\n    MsgWithdrawDelegationReward,\n    Msgs,\n    Tx,\n  },\n  setup() {\n    const selected = ref('MsgSend');\n    const select = (s) => { selected.value = s };\n    return {\n      selected,\n      select,\n    };\n  },\n};\n</script>\n","<template>\n  <div>\n    <div>\n      path: 44/118/0/0/<input v-model=\"ledgerIndex\">\n    </div>\n    <div>\n      Address: {{address}}<button @click=\"fetchCosmosInfo\">Read address</button>\n    </div>\n    <div>\n      Account number: {{accountNumber}}\n    </div>\n    <div>\n      Sequence: {{sequence}}\n    </div>\n    <div>\n      Balance: {{balance}}\n    </div>\n    <button @click=\"readAccount\">re-read account</button>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { FETCH_COSMOS_INFO } from './store.js';\n\nfunction prettyBalance(coins) {\n  if (!coins) {\n    return 'N/A';\n  }\n  const coin = coins.find((coin) => coin.denom === 'nanolike');\n  if (!coin) {\n    return 'N/A';\n  }\n  const amount = Number.parseInt(coin.amount, 10) / 1e9;\n  return `${amount.toFixed(4)} LIKE`;\n}\n\nexport default {\n  setup() {\n    const store = useStore();\n    let ledgerIndex = ref(0);\n    console.log(ledgerIndex);\n    return {\n      ledgerIndex,\n      address: computed(() => store.state.addressInfo.address),\n      accountNumber: computed(() => store.state.accountInfo.accountNumber),\n      balance: computed(() => prettyBalance(store.state.accountInfo.coins)),\n      sequence: computed(() => store.state.accountInfo.sequence),\n      fetchCosmosInfo: () => store.dispatch(FETCH_COSMOS_INFO, Number.parseInt(ledgerIndex.value, 10)),\n    };\n  },\n};\n\n</script>\n\n","export const LCD_ENDPOINT = 'https://likecoin.nnkken.dev';\nexport const CHAIN_ID = 'likecoin-chain-sheungwan';\n","import { createStore } from 'vuex'\nimport { LCD_ENDPOINT } from './config.js';\nimport * as Cosmos from './cosmos.js';\n\nexport const INIT_COSMOS_LEDGER_APP = 'INIT_COSMOS_LEDGER_APP';\nexport const COMMIT_ADDRESS_INFO = 'COMMIT_ADDRESS_INFO';\nexport const FETCH_COSMOS_INFO =  'FETCH_COSMOS_INFO';\nexport const COMMIT_ACCOUNT_INFO = 'COMMIT_ACCOUNT_INFO';\nexport const COMMIT_ADD_MSG = 'COMMIT_ADD_MSG';\nexport const COMMIT_REMOVE_MSG = 'COMMIT_REMOVE_MSG';\nexport const COMMIT_CLEAR_MSGS = 'COMMIT_CLEAR_MSGS';\n\nexport const store = createStore({\n  state() {\n    return {\n      cosmosLedgerApp: null,\n      addressInfo: {\n        ledgerPath: Cosmos.getLedgerPath(0),\n        address: '',\n        pubKey: {},\n      },\n      accountInfo: {\n        accountNumber: '0',\n        sequence: '0',\n        coins: [],\n      },\n      msgs: [],\n    };\n  },\n  mutations: {\n    [INIT_COSMOS_LEDGER_APP](state, app) {\n      state.cosmosLedgerApp = app;\n    },\n    [COMMIT_ADDRESS_INFO](state, addressInfo) {\n      state.addressInfo = addressInfo;\n    },\n    [COMMIT_ACCOUNT_INFO](state, accountInfo) {\n      state.accountInfo = accountInfo;\n    },\n    [COMMIT_ADD_MSG](state, msg) {\n      state.msgs.push(msg);\n    },\n    [COMMIT_REMOVE_MSG](state, index) {\n      state.msgs.splice(index, 1);\n    },\n    [COMMIT_CLEAR_MSGS](state) {\n      state.msgs = [];\n    },\n  },\n  actions: {\n    async [INIT_COSMOS_LEDGER_APP]({ commit }) {\n      const app = await Cosmos.initCosmosLedgerApp();\n      commit(INIT_COSMOS_LEDGER_APP, app);\n    },\n    async [FETCH_COSMOS_INFO]({ state, commit, dispatch }, ledgerIndex) {\n      if (!state.cosmosLedgerApp) {\n        await dispatch(INIT_COSMOS_LEDGER_APP);\n      }\n      const ledgerPath = Cosmos.getLedgerPath(ledgerIndex);\n      const addressInfo = await Cosmos.readAddressInfo(state.cosmosLedgerApp, { path: ledgerPath });\n      commit(COMMIT_ADDRESS_INFO, { ...addressInfo, ledgerPath });\n      const accountInfo = await Cosmos.fetchAccountInfo(LCD_ENDPOINT, state.addressInfo.address)\n      commit(COMMIT_ACCOUNT_INFO, accountInfo);\n    },\n  },\n});\n","import { render } from \"./AccountInfo.vue?vue&type=template&id=29229340\"\nimport script from \"./AccountInfo.vue?vue&type=script&lang=js\"\nexport * from \"./AccountInfo.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <div>\n      Send to address: <input v-model.trim=\"to\">\n    </div>\n    <div>\n      Amount: <input v-model.trim.number=\"amount\"> LIKE\n    </div>\n    <button @click=\"addMsg\">Add msg</button>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { COMMIT_ADD_MSG  } from './store.js';\nimport { createMsgSend } from './cosmos.js';\n\nexport default {\n  setup() {\n    const store = useStore();\n    const to = ref('');\n    const amount = ref(0);\n    const addMsg = () => {\n      const from = store.state.addressInfo.address;\n      const amountInNanolike = amount.value * 1e9;\n      const msg = createMsgSend({\n        from,\n        to: to.value,\n        amount: amountInNanolike,\n      });\n      store.commit(COMMIT_ADD_MSG, msg)\n    };\n    return {\n      to,\n      amount,\n      addMsg,\n    };\n  }\n}\n</script>\n","import { render } from \"./MsgSend.vue?vue&type=template&id=a5f4d922\"\nimport script from \"./MsgSend.vue?vue&type=script&lang=js\"\nexport * from \"./MsgSend.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <div>\n      Validator address: <input v-model.trim=\"validator\">\n    </div>\n    <div>\n      Amount: <input v-model.trim.number=\"amount\"> LIKE\n    </div>\n    <button @click=\"addMsg\">Add msg</button>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { COMMIT_ADD_MSG  } from './store.js';\nimport { createMsgDelegate } from './cosmos.js';\n\nexport default {\n  setup() {\n    const store = useStore();\n    const validator = ref('');\n    const amount = ref(0);\n    const addMsg = () => {\n      const delegator = store.state.addressInfo.address;\n      const amountInNanolike = amount.value * 1e9;\n      const msg = createMsgDelegate({\n        delegator,\n        validator: validator.value,\n        amount: amountInNanolike,\n      });\n      store.commit(COMMIT_ADD_MSG, msg)\n    };\n    return {\n      validator,\n      amount,\n      addMsg,\n    };\n  }\n}\n</script>\n","import { render } from \"./MsgDelegate.vue?vue&type=template&id=350fc24e\"\nimport script from \"./MsgDelegate.vue?vue&type=script&lang=js\"\nexport * from \"./MsgDelegate.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <div>\n      From validator address: <input v-model.trim=\"fromValidator\">\n    </div>\n    <div>\n      To validator address: <input v-model.trim=\"toValidator\">\n    </div>\n    <div>\n      Amount: <input v-model.trim.number=\"amount\"> LIKE\n    </div>\n    <button @click=\"addMsg\">Add msg</button>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { COMMIT_ADD_MSG  } from './store.js';\nimport { createMsgBeginRedelegate } from './cosmos.js';\n\nexport default {\n  setup() {\n    const store = useStore();\n    const fromValidator = ref('');\n    const toValidator = ref('');\n    const amount = ref(0);\n    const addMsg = () => {\n      const delegator = store.state.addressInfo.address;\n      const amountInNanolike = amount.value * 1e9;\n      const msg = createMsgBeginRedelegate({\n        delegator,\n        fromValidator: fromValidator.value,\n        toValidator: toValidator.value,\n        amount: amountInNanolike,\n      });\n      store.commit(COMMIT_ADD_MSG, msg)\n    };\n    return {\n      fromValidator,\n      toValidator,\n      amount,\n      addMsg,\n    };\n  }\n}\n</script>\n","import { render } from \"./MsgBeginRedelegate.vue?vue&type=template&id=1f8f4724\"\nimport script from \"./MsgBeginRedelegate.vue?vue&type=script&lang=js\"\nexport * from \"./MsgBeginRedelegate.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <div>\n      validator address: <input v-model.trim=\"validator\">\n    </div>\n    <div>\n      Amount: <input v-model.trim.number=\"amount\"> LIKE\n    </div>\n    <button @click=\"addMsg\">Add msg</button>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { COMMIT_ADD_MSG  } from './store.js';\nimport { createMsgUndelegate } from './cosmos.js';\n\nexport default {\n  setup() {\n    const store = useStore();\n    const validator = ref('');\n    const amount = ref(0);\n    const addMsg = () => {\n      const delegator = store.state.addressInfo.address;\n      const amountInNanolike = amount.value * 1e9;\n      const msg = createMsgUndelegate({\n        delegator,\n        validator: validator.value,\n        amount: amountInNanolike,\n      });\n      store.commit(COMMIT_ADD_MSG, msg)\n    };\n    return {\n      validator,\n      amount,\n      addMsg,\n    };\n  }\n}\n</script>\n","import { render } from \"./MsgUndelegate.vue?vue&type=template&id=7c9b5bd5\"\nimport script from \"./MsgUndelegate.vue?vue&type=script&lang=js\"\nexport * from \"./MsgUndelegate.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <div>\n      validator address: <input v-model.trim=\"validator\">\n    </div>\n    <button @click=\"addMsg\">Add msg</button>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { COMMIT_ADD_MSG  } from './store.js';\nimport { createMsgWithdrawDelegationReward } from './cosmos.js';\n\nexport default {\n  setup() {\n    const store = useStore();\n    const validator = ref('');\n    const addMsg = () => {\n      const delegator = store.state.addressInfo.address;\n      const msg = createMsgWithdrawDelegationReward({\n        delegator,\n        validator: validator.value,\n      });\n      store.commit(COMMIT_ADD_MSG, msg)\n    };\n    return {\n      validator,\n      addMsg,\n    };\n  }\n}\n</script>\n","import { render } from \"./MsgWithdrawDelegationReward.vue?vue&type=template&id=7822df0e\"\nimport script from \"./MsgWithdrawDelegationReward.vue?vue&type=script&lang=js\"\nexport * from \"./MsgWithdrawDelegationReward.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <div v-for=\"(msg, i) in msgs\" v-bind:key=\"msg\">\n      <button @click=\"removeMsg(i)\">X</button>\n      Msg {{i}}: {{msg}}\n    </div>\n    <button @click=\"clearMsgs\">Clear all  msgs</button>\n  </div>\n</template>\n\n<script>\nimport { useStore } from 'vuex';\nimport { computed } from 'vue';\nimport { COMMIT_REMOVE_MSG, COMMIT_CLEAR_MSGS } from './store.js';\n\nexport default {\n  setup() {\n    console.log('in Msgs: ', msgs)\n    const store = useStore();\n    const msgs = computed(() => store.state.msgs);\n    const removeMsg = (i) => store.commit(COMMIT_REMOVE_MSG, i);\n    const clearMsgs = () => store.commit(COMMIT_CLEAR_MSGS);\n    return {\n      msgs,\n      removeMsg,\n      clearMsgs,\n    };\n  }\n}\n</script>\n","import { render } from \"./Msgs.vue?vue&type=template&id=6e725fad\"\nimport script from \"./Msgs.vue?vue&type=script&lang=js\"\nexport * from \"./Msgs.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div>\n    <div>\n      Memo (optional): <input v-model=\"memo\">\n    </div>\n    <div>\n      Gas: <input v-model.trim.number=\"gas\"> (Recommend: {{recommendedGas}})\n    </div>\n    <div>\n      Gas Price: <input v-model.trim.number=\"gasPrice\">\n    </div>\n    <div>\n      Fee: {{fee}}\n    </div>\n    <button @click=\"prepareSignObject\">Prepare sign object</button>\n    <div>\n      Sign object: {{signObject}}\n    </div>\n    <button @click=\"sign\">Sign</button>\n    <div>\n      Signature: {{signature}}\n    </div>\n    <button @click=\"broadcastTx\">Confirm and Send</button>\n    <div>\n      TxHash: {{txHash}}\n    </div>\n    <div>\n      Log message: {{log}}\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { LCD_ENDPOINT, CHAIN_ID } from './config.js';\nimport * as Cosmos from './cosmos.js';\n\nexport default {\n  setup() {\n    const store = useStore();\n    const memo = ref('');\n    const gas = ref(200000);\n    const recommendedGas = computed(() => Cosmos.computeTotalGas(store.state.msgs));\n    const gasPrice = ref(100);\n    const fee = computed(() => `${gas.value * gasPrice.value / 1e9} LIKE`);\n    const signObject = ref({});\n    const signature = ref('');\n    const txHash = ref('');\n    const log = ref(null);\n    const prepareSignObject = () => {\n      const { msgs } = store.state;\n      const { accountNumber, sequence } = store.state.accountInfo;\n      signObject.value = Cosmos.prepareSignObject({\n        msgs,\n        chainID: CHAIN_ID,\n        accountNumber,\n        sequence,\n        gas: gas.value,\n        gasPrice: gasPrice.value,\n        memo: memo.value,\n      });\n    };\n    const sign = async () => {\n      const { cosmosLedgerApp } = store.state;\n      const { ledgerPath } =  store.state.addressInfo;\n      signature.value = await Cosmos.sign(cosmosLedgerApp, signObject.value, ledgerPath)\n    }\n    const broadcastTx = async () => {\n      const resData = await Cosmos.broadcastTx({\n        signObject: signObject.value,\n        signature: signature.value,\n        pubKey: store.state.addressInfo.pubKey,\n        endpoint: LCD_ENDPOINT,\n      });\n      txHash.value = resData.txhash\n      log.value = resData.raw_log;\n    }\n    return {\n      memo,\n      gas,\n      gasPrice,\n      recommendedGas,\n      fee,\n      signObject,\n      signature,\n      txHash,\n      log,\n      prepareSignObject,\n      sign,\n      broadcastTx,\n    };\n  },\n};\n\n</script>\n","import { render } from \"./Tx.vue?vue&type=template&id=22ae2c1a\"\nimport script from \"./Tx.vue?vue&type=script&lang=js\"\nexport * from \"./Tx.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=f3eb7454\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue';\nimport App from './App.vue';\nimport { store } from './store.js';\n\nconst app = createApp(App);\napp.use(store);\napp.mount('#app');\n","import TransportWebUSB from \"@ledgerhq/hw-transport-webusb\";\nimport CosmosApp from \"ledger-cosmos-js\";\nimport CryptoJS from \"crypto-js\";\nimport sha256 from \"crypto-js/sha256\";\nimport ripemd160 from \"crypto-js/ripemd160\";\nimport { Base64 } from \"js-base64\";\nimport { bech32 } from 'bech32';\nimport axios from 'axios';\nimport jsonStringify from 'fast-json-stable-stringify';\n\nexport async function readAddressInfo(cosmosLedgerApp, {\n  path = getLedgerPath(0),\n  prefix = 'cosmos',\n}) {\n  const { compressed_pk } = await cosmosLedgerApp.publicKey(path);\n  const message = CryptoJS.enc.Hex.parse(compressed_pk.toString('hex'));\n  const hash = ripemd160(sha256(message)).toString();\n  const addressRawHex = Buffer.from(hash, 'hex');\n  const words = bech32.toWords(addressRawHex);\n  const address = bech32.encode(prefix, words);\n  return {\n    pubKey: {\n      type: 'tendermint/PubKeySecp256k1',\n      value: Base64.encode(compressed_pk),\n    },\n    address,\n  };\n}\n\nexport async function fetchAccountInfo(endpoint, address) {\n  const res = await axios.get(`/auth/accounts/${address}`, {\n    baseURL: endpoint,\n  });\n  const { coins, account_number: accountNumber, sequence } = res.data.result.value;\n  return { address, coins, accountNumber, sequence };\n}\n\nexport function computeTotalGas(msgs) {\n  const GAS = {\n    'cosmos-sdk/MsgSend': 44000,\n    'cosmos-sdk/MsgDelegate': 130000,\n    'cosmos-sdk/MsgBeginRedelegate': 220000,\n    'cosmos-sdk/MsgUndelegate': 145000,\n    'cosmos-sdk/MsgWithdrawDelegationReward': 90000,\n  };\n  return msgs.reduce((sum, msg) => sum + GAS[msg.type], 0);\n}\n\nexport function prepareSignObject({\n  msgs,\n  chainID,\n  accountNumber,\n  sequence,\n  gas = 200000,\n  gasPrice = 100,\n  memo = '',\n  denom = 'nanolike',\n}) {\n  const gasAmount = gas.toString();\n  const feeAmount = (gas * gasPrice).toString();\n  return {\n    fee: {\n      amount: [{ denom, amount: feeAmount }],\n      gas: gasAmount,\n    },\n    msgs,\n    chain_id: chainID,\n    account_number: accountNumber,\n    sequence: sequence,\n    memo: memo,\n  };\n}\n\nexport async function sign(cosmosLedgerApp, signObj, path = getLedgerPath(0)) {\n  const signMsg = jsonStringify(signObj);\n  console.log(signMsg);\n  const res = await cosmosLedgerApp.sign(path, signMsg);\n  return sigDerToRaw(res.signature);\n}\n\nexport function createMsgSend({\n  from, to, amount, denom = 'nanolike',\n}) {\n  return {\n    type: 'cosmos-sdk/MsgSend',\n    value: {\n      from_address: from,\n      to_address: to,\n      amount: [\n        {\n          denom,\n          amount: amount.toFixed(),\n        }\n      ]\n    }\n  }\n}\n\nexport function createMsgDelegate({\n  delegator, validator, amount, denom = 'nanolike',\n}) {\n  return {\n    type: 'cosmos-sdk/MsgDelegate',\n    value: {\n      delegator_address: delegator,\n      validator_address: validator,\n      amount: {\n        denom,\n        amount: amount.toFixed(),\n      }\n    }\n  }\n}\n\nexport function createMsgBeginRedelegate({\n  delegator, fromValidator, toValidator, amount, denom = 'nanolike',\n}) {\n  return {\n    type: 'cosmos-sdk/MsgBeginRedelegate',\n    value: {\n      amount: {\n        denom,\n        amount: amount.toFixed(),\n      },\n      delegator_address: delegator,\n      validator_src_address: fromValidator,\n      validator_dst_address: toValidator,\n    }\n  };\n}\n\nexport function createMsgUndelegate({\n  delegator, validator, amount, denom = 'nanolike',\n}) {\n  return {\n    type: 'cosmos-sdk/MsgUndelegate',\n    value: {\n      amount: {\n        denom,\n        amount: amount.toFixed(),\n      },\n      delegator_address: delegator,\n      validator_address: validator,\n    }\n  };\n}\n\nexport function createMsgWithdrawDelegationReward({ delegator, validator }) {\n  return {\n    type: 'cosmos-sdk/MsgWithdrawDelegationReward',\n    value: {\n      delegator_address: delegator,\n      validator_address: validator,\n    }\n  };\n}\n\nexport async function broadcastTx({ signObject, signature, pubKey, endpoint }) {\n  const tx = {\n    mode: 'sync',\n    tx: {\n      ...signObject,\n      msg: signObject.msgs,\n      signatures: [{ signature, pub_key: pubKey }],\n    },\n  };\n  delete tx.msgs;\n  console.log(tx);\n  const res = await axios.post('/txs', tx, {\n    baseURL: endpoint,\n  });\n  console.log(res);\n  return res.data;\n}\n\nexport async function initCosmosLedgerApp() {\n  const transport = await TransportWebUSB.create();\n  return new CosmosApp(transport);\n}\n\nexport function getLedgerPath(index) {\n  return [44, 118, 0, 0, index];\n}\n\nfunction sigDerToRaw(sig) {\n  if (sig.length === 64) {\n    console.log(rawSig);\n    return Base64.fromUint8Array(sig);\n  }\n  const rawSig = new Uint8Array(64);\n  if (sig[0] !== 0x30) {\n    throw new Error(`Ecpect signature header with tag 0x30, got ${sig[0].toString(16).padStart(2, '0')}`);\n  }\n  let i = 2;\n  if (sig[i] !== 0x02) {\n    throw new Error(`Ecpect signature R value header with tag 0x02, got ${sig[i].toString(16).padStart(2, '0')}`);\n  }\n  const rLength = sig[i + 1];\n  i += 2;\n  i += rLength - 32;\n  rawSig.set(sig.subarray(i, i + 32), 0);\n  i += 32;\n  if (sig[i] !== 0x02) {\n    throw new Error(`Ecpect signature S value header with tag 0x02, got ${sig[i].toString(16).padStart(2, '0')}`);\n  }\n  const sLength = sig[i + 1];\n  i += 2;\n  i += sLength - 32;\n  rawSig.set(sig.subarray(i, i + 32), 32);\n  return Base64.fromUint8Array(rawSig);\n}\n"],"sourceRoot":""}